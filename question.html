<!DOCTYPE html>
<html lang="kk">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Вопрос</title>
  <style>
    /* Дизайн оставляем точно таким же, как и в вашем коде */
    html, body {
      margin: 0;
      padding: 0;
      width: 100%;
      height: 100%;
      background-color: #000033;
      color: white;
      font-family: Arial, sans-serif;
      box-sizing: border-box;
    }
    h1, h2 {
      margin-top: 10px;
      text-align: center;
    }
    .container {
      width: 100%;
      max-width: 1000px;
      margin: 20px auto;
      padding: 10px;
    }
    .question-box {
      background-color: #001166;
      padding: 20px;
      border-radius: 10px;
      margin: 20px auto;
      border: 2px solid white;
      text-align: center;
    }
    #nextButton {
      background: linear-gradient(to right, #00ff00, #009900);
      color: white;
      padding: 10px 20px;
      border: none;
      border-radius: 10px;
      font-size: 20px;
      cursor: pointer;
      margin-top: 20px;
      display: block;
      margin-left: auto;
      margin-right: auto;
    }
    #counter {
      margin-top: 20px;
      font-size: 18px;
      text-align: center;
    }
  </style>
</head>
<body>
  <h2 id="topicTitle"></h2>
  <div class="container">
    <div class="question-box" id="questionBox">
      <p id="questionText"></p>
      <!-- Контейнер для ответов больше не используется -->
      <div id="answers"></div>
      <div id="counter"></div>
      <button id="nextButton" onclick="nextQuestion()">Next</button>
    </div>
  </div>

  <script>
    // Используем те же данные, что и в index.html
    const questions = [
      // Категория 0: Абайдың өмірбаяны
      [
        {
          q: "Абайдың шын аты кім? (10)",
          a: ["Мухамедқанафия", "Ибраһим", "Ақжігіт", "Сәдуақас"],
          correct: 1
        },
        {
          q: "XIX ғасырдың екінші жартысы мен XX ғасырдың алғашқы ширегінде өмір сүрген көрнекті қазақ ақыны, нақыл сөздің атасы, мысалшы, аудармашы, сазгер, Абайдың немере інісі кім? (20)",
          a: ["Шәкәрім Құдайбердіұлы", "Сәбит Мұқанов", "Мұхтар Әуезов", "Әлихан Бөкейханов"],
          correct: 0
        },
        {
          q: "Өскенбай Абайға кім болады? (10)",
          a: ["Әкесі", "Атасы", "Інісі", "Шөбересі"],
          correct: 1
        },
        {
          q: "Әйкерімнің бұрыңғы аты кім болған және жаңа есімді кім берген? (10)",
          a: ["Шүкімән, Абай берген", "Шүкімән, Абай қойған", "Айман, Абай берген", "Айман, Абай қойған"],
          correct: 1
        },
        {
          q: "Абай Ахмет – Риза медресесінде қай жылдары оқиды? (20)",
          a: ["1850-1853", "1855-1858", "1860-1863", "1858-1861"],
          correct: 1
        },
        {
          q: "Абай орыс ұлтының өкілдерінен кімдермен дос болды? (20)",
          a: ["А.Некрасов, М.Крылов, В.Гюго, Л.Толстой", "Е.П.Михаэлис, Н.Долгополов, С.Гросс, А.Леонтьев", "И.Рахманинов, П.Ильич, Д.Менделеев, А.Сталин", "Б.Соломонин, М.Салтыков-Щедрин, Ф.Абрамов, Н.Гоголь"],
          correct: 1
        },
        {
          q: "Абайдың әжесінің аты кім? (10)",
          a: ["Зере", "Меруерт", "Сағыта", "Айгүл"],
          correct: 0
        }
      ],
      // Категория 1: Абайдың өлеңдері
      [
        {
          q: "«Жігіттер, ойын арзан, күлкі қымбат» өлеңінде ақын қандай мәселе көтереді? (20)",
          a: ["Махаббат", "Достық мәселесі", "Еңбек", "Бостандық"],
          correct: 1
        },
        {
          q: "«...Көңілге түрлі ой салар, әнді сүйсең менше сүй!» – деген өлең жолдары қай өлеңнен алынған? (20)",
          a: ["Қыс", "Құлақтан кіріп бойды алар", "Жаз", "Күз"],
          correct: 1
        },
        {
          q: "Ақын ел билеушілерінің типтік бейнесін қай өлеңдерінде бейнелеген? (20)",
          a: ["Сенбіде, Жексенбіде", "Болыс болдым мінеки, Мәз болады болысың", "Кемел болдым, Діл болдым", "Аруақ болдым, Жан болдым"],
          correct: 1
        },
        {
          q: "Қай шығармадан? Тамағы тоқтық, Жұмысы жоқтық, Аздырар адам баласын. (20)",
          a: ["Алты аяқ", "Сегіз аяқ", "Он аяқ", "Жеті аяқ"],
          correct: 1
        },
        {
          q: "Қай шығармадан? ........ Екі түрлі нәрсе ғой сыр мен сымбат. Арзан, жалған күлмейтін, шын күлерлік Ер табылса, жарайды қылса сұхбат. (20)",
          a: ["Сегіз аяқ", "Жігіттер, ойын арзан, күлкі қымбат", "Ақ күн", "Көк аспан"],
          correct: 1
        },
        {
          q: "Абайдың табиғат лирикасына арналған шығармаларын атаңыз. (20)",
          a: ["Қыс, Жазғытұрым, Күз, Жаз; Желсіз түнде жарық ай; Қараша, желтоқсан мен сол бір-екі ай", "Көктем, Жаз, Күз, Қыс", "Жаз, Күз, Қыс", "Мөлдір түн, айдың жарығы"],
          correct: 0
        },
        {
          q: "Абайдың бір өлеңін жатқа оқып беріңіз (20)",
          a: [],
          correct: null
        },
        {
          q: "Абайдың өлеңдерінде сандық компоненті бар өлеңді атаңыз (20)",
          a: [],
          correct: null
        }
      ],
      // Категория 2: Әр-түрлі сұрақтар
      [
        {
          q: "«Зере мен Ұлжан – тек Абайдың ғана емес, барлық халықтың анасы. Елінің мұңын мұңдап, жырын жырлаған аналар болып қала береді» (20)",
          a: [],
          correct: null
        },
        {
          q: "«Абай – қазақтың бас ақыны» дегенді кім айтқан? (20)",
          a: ["М.Әуезов", "А.Байтұрсынов", "С.Торайғыров", "Ж.Қожаназ"],
          correct: 1
        },
        {
          q: "Абайдың 150-жылдық тойы қай жылы тойланды? (10)",
          a: ["1990", "1995", "2000", "1985"],
          correct: 1
        },
        {
          q: "Абайдан неше поэма қалған? (10)",
          a: ["2", "3", "4", "5"],
          correct: 1
        },
        {
          q: "Абай Лермонтовтан жалпы саны қанша шығарма аударған? (20)",
          a: ["25", "26", "27", "28"],
          correct: 2
        },
        {
          q: "Еуропаға Александр Македонский деген атпен белгілі қолбасшының өмірі жайлы аңыздар негізінде жазылған поэмасын көрсетіңіз. (10)",
          a: ["Ескендір", "Александр", "Македон", "Ұлы жауыз"],
          correct: 0
        },
        {
          q: "Абай қайда жерленген? (10)",
          a: ["Алматы", "Нұр-Сұлтан", "Жидебай", "Шымкент"],
          correct: 2
        }
      ],
      // Категория 3: Қара сөздер
      [
        {
          q: "Қара сөздер ең алғашқы қай қалада жарық көрді? (20)",
          a: ["Алматы", "Семей", "Астана", "Қарағанды"],
          correct: 1
        },
        {
          q: "Қара сөздер қай жылы жарық көрді? (20)",
          a: ["1910", "1915", "1918", "1920"],
          correct: 2
        },
        {
          q: "Абайдың нешінші қара сөзінен алынған? «Екінші мінезі - намысқорлық екен. Ат аталып, аруақ шақырылған жерде ағайынға өкпе, араздыққа қарамайды екен, жанын салысады екен. «Өзіне ар тұтқан жаттан зар тұтады» деп, «Аз араздықты қуған көп пайдасын кетірер» деп, «Ағайынның азары болса да, безері болмайды»",
          a: [],
          correct: null
        },
        {
          q: "Абай еңбек туралы қай қара сөзінде ой қозғаған? (20)",
          a: ["2", "4", "25", "42"],
          correct: 2
        },
        {
          q: "Абайдың нешінші қара сөзінен алынған? «Бұл жасқа келгенше жақсы өткіздік пе, жаман өткіздік пе, әйтеуір бірталай өмірімізді өткіздік: алыстық, жұлыстық, айтыстық, тартыстық – әурешілікті көре-көре келдік. Енді жер ортасы жасқа келдік: қажыдық, жалықтық; қылып жүрген ісіміздің баянсызын, байлаусызын көрдік, бәрі қоршылық екенін білдік. Ал, енді қалған өмірімізді қайтып, не қылып өткіземіз? Соны таба алмай өзім де қайранмын» (20)",
          a: ["Бірінші", "Екінші", "Үшінші", "Төртінші"],
          correct: 0
        },
        {
          q: "Абайдың 45-қара сөзінде не айтылған? (20)",
          a: [
            "45-қара сөзінде Абай өз іс-әрекетінің мәнін терең түсіндіріп, адам бойындағы әр түрлі кемшіліктерді мойындап, оларды жеңуге күш салуды насихаттайды.",
            "Басқа жауап 1",
            "Басқа жауап 2",
            "Басқа жауап 3"
          ],
          correct: 0
        },
        {
          q: "Абайдың бір қаза сөзін айтып беріңіздер.",
          a: [],
          correct: null
        }
      ]
    ];

    // Получаем выбранную тему из sessionStorage
    const selectedTopic = sessionStorage.getItem("selectedTopic");
    if (!selectedTopic) {
      alert("Тема не выбрана!");
      window.location.href = "index.html";
    }

    // Определяем индекс текущего вопроса по прогрессу (так же храним в sessionStorage)
    const progress = JSON.parse(sessionStorage.getItem("progress"));
    const currentIndex = progress[selectedTopic].currentIndex;
    const currentQuestion = questions[
      // Определяем категорию по названию
      selectedTopic === "Абайдың өмірбаяны" ? 0 :
      selectedTopic === "Абайдың өлеңдері" ? 1 :
      selectedTopic === "Әр-түрлі сұрақтар" ? 2 :
      selectedTopic === "Қара сөздер" ? 3 : 0
    ][currentIndex];

    // Заполняем данные вопроса
    document.getElementById("topicTitle").innerText = selectedTopic;
    document.getElementById("questionText").innerText = currentQuestion.q;

    // Не выводим варианты ответов – очищаем контейнер и сразу отображаем кнопку "Next"
    document.getElementById("answers").innerHTML = "";
    document.getElementById("nextButton").style.display = "block";

    // Выводим оставшиеся вопросы (если нужно)
    document.getElementById("counter").innerText = `Қалған сұрақтар: ${progress[selectedTopic].total - currentIndex}`;

    // Функция перехода к следующему вопросу
    function nextQuestion() {
      // Обновляем прогресс
      progress[selectedTopic].currentIndex++;
      sessionStorage.setItem("progress", JSON.stringify(progress));
      // Переходим на главную страницу (где будет выбран следующий вопрос или категория завершится)
      window.location.href = "index.html";
    }
  </script>
</body>
</html>

<!DOCTYPE html>
<html lang="kk">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Вопрос</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      width: 100%;
      height: 100%;
      background-color: #000033;
      color: white;
      font-family: Arial, sans-serif;
      box-sizing: border-box;
      text-align: center;
    }
    .container {
      max-width: 800px;
      margin: 40px auto;
      padding: 20px;
      border: 2px solid white;
      border-radius: 10px;
      background-color: #001166;
    }
    #questionText {
      font-size: 24px;
      margin-bottom: 20px;
    }
    #answerText {
      font-size: 20px;
      margin-top: 20px;
      display: none;
    }
    button {
      padding: 10px 20px;
      font-size: 20px;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      margin: 10px;
    }
    #showAnswerButton {
      background: linear-gradient(to right, #ffaa00, #cc7700);
      color: white;
    }
    #nextButton {
      background: linear-gradient(to right, #00ff00, #009900);
      color: white;
    }
  </style>
</head>
<body>
  <div class="container">
    <h2 id="topicTitle"></h2>
    <div id="questionText"></div>
    <button id="showAnswerButton" onclick="showAnswer()">Жауабы</button>
    <div id="answerText"></div>
    <button id="nextButton" onclick="goToLevels()">Next</button>
  </div>

  <script>
    // Проверяем, выбраны ли категория и вопрос
    const selectedCategory = sessionStorage.getItem("selectedCategory");
    const selectedQuestionIndex = sessionStorage.getItem("selectedQuestionIndex");
    if (!selectedCategory || selectedQuestionIndex === null) {
      alert("Выберите сначала категорию и ячейку!");
      window.location.href = "index.html";
    }

    // Массив вопросов (такой же, как в index.html)
    const questions = [
      // Категория 0: Абайдың өмірбаяны (8 вопросов, с добавленным 8-ым)
      [
        {
          q: "Абайдың шын аты кім? ",
          a: ["Мухамедқанафия", "Ибраһим", "Ақжігіт", "Сәдуақас"],
          correct: 1
        },
        {
          q: "XIX ғасырдың екінші жартысы мен XX ғасырдың алғашқы ширегінде өмір сүрген көрнекті қазақ ақыны, нақыл сөздің атасы, мысалшы, аудармашы, сазгер,  Абайдың немере інісі кім?  ",
          a: ["Шәкәрім Құдайбердіұлы", "Сәбит Мұқанов", "Мұхтар Әуезов", "Әлихан Бөкейханов"],
          correct: 0
        },
        {
          q: "Өскенбай Абайға кім болады? ",
          a: ["Әкесі", "Атасы", "Інісі", "Шөбересі"],
          correct: 1
        },
        {
          q: "Әйкерімнің бұрыңғы аты кім болған және жаңа есімді кім берген? ",
          a: ["Шүкімән, Абай берген", "Шүкімән, Абай қойған", "Айман, Абай берген", "Айман, Абай қойған"],
          correct: 1
        },
        {
          q: "Абай Ахмет – Риза медресесінде қай жылдары оқиды? ",
          a: ["1850-1853", "1855-1858", "1860-1863", "1858-1861"],
          correct: 1
        },
        {
          q: "Абай орыс ұлтының өкілдерінен кімдермен дос болды? ",
          a: ["А.Некрасов, М.Крылов, В.Гюго, Л.Толстой", "Е.П.Михаэлис, Н.Долгополов, С.Гросс, А.Леонтьев", "И.Рахманинов, П.Ильич, Д.Менделеев, А.Сталин", "Б.Соломонин, М.Салтыков-Щедрин, Ф.Абрамов, Н.Гоголь"],
          correct: 1
        },
        {
          q: "Абайдың әжесінің аты кім? ",
          a: ["Зере", "Меруерт", "Сағыта", "Айгүл"],
          correct: 0
        },
        {
          q: "Абайдың шығармашылық жолы қандай кезеңдерден тұрады? ",
          a: ["Балалық, жасөспірімдік, жеткіншек", "Жас, орта, ақыр", "Бастапқы, даму, жетілу", "Бірінші, екінші, үшінші"],
          correct: 2
        },
        {
          q: "это 8-ой вопрос",
          a: [],
          ansText: "это ответ на 8-ой вопрос"
        }
      ],
      // Категория 1: Абайдың өлеңдері (8 вопросов)
      [
        {
          q: "«Жігіттер, ойын арзан, күлкі қымбат» өлеңінде ақын қандай мәселе көтереді? ",
          a: ["Махаббат", "Достық мәселесі", "Еңбек", "Бостандық"],
          correct: 1
        },
        {
          q: "«...Көңілге түрлі ой салар, әнді сүйсең менше сүй!» – деген өлең жолдары қай өлеңнен алынған? ",
          a: ["Қыс", "Құлақтан кіріп бойды алар", "Жаз", "Күз"],
          correct: 1
        },
        {
          q: "Ақын ел билеушілерінің типтік бейнесін қай өлеңдерінде бейнелеген? ",
          a: ["Сенбіде, Жексенбіде", "Болыс болдым мінеки, Мәз болады болысың", "Кемел болдым, Діл болдым", "Аруақ болдым, Жан болдым"],
          correct: 1
        },
        {
          q: "Қай шығармадан? Тамағы тоқтық, Жұмысы жоқтық, Аздырар адам баласын. ",
          a: ["Алты аяқ", "Сегіз аяқ", "Он аяқ", "Жеті аяқ"],
          correct: 1
        },
        {
          q: "Қай шығармадан? Екі түрлі нәрсе ғой сыр мен сымбат. ",
          a: ["Сегіз аяқ", "Жігіттер, ойын арзан, күлкі қымбат", "Ақ күн", "Көк аспан"],
          correct: 1
        },
        {
          q: "Абайдың табиғат лирикасына арналған шығармаларын атаңыз. ",
          a: ["Қыс, Жазғытұрым, Күз, Жаз", "Көктем, Жаз, Күз, Қыс", "Жаз, Күз, Қыс", "Мөлдір түн, айдың жарығы"],
          correct: 0
        },
        {
          q: "Абайдың бір өлеңін жатқа оқып беріңіз ",
          a: [],
          ansText: "Бұл өлеңнің дұрыс нұсқасы"
        },
        {
          q: "Абайдың өлеңдерінде сандық компоненті бар өлеңді атаңыз ",
          a: [],
          ansText: "Бұл өлеңде сандық компонент бар"
        }
      ],
      // Категория 2: Әр-түрлі сұрақтар (8 вопросов, с добавленным 8-ым)
      [
        {
          q: "«Зере мен Ұлжан – тек Абайдың ғана емес, барлық халықтың анасы...» ",
          a: [],
          ansText: "Б.Момышулы"
        },
        {
          q: "«Абай – қазақтың бас ақыны» дегенді кім айтқан? ",
          a: ["М.Әуезов", "А.Байтұрсынов", "С.Торайғыров", "Ж.Қожаназ"],
          correct: 1
        },
        {
          q: "Абайдың 150-жылдық тойы қай жылы тойланды? ",
          a: ["1990", "1995", "2000", "1985"],
          correct: 1
        },
        {
          q: "Абайдан неше поэма қалған? ",
          a: ["2", "3", "4", "5"],
          correct: 1
        },
        {
          q: "Абай Лермонтовтан қанша шығарма аударған? ",
          a: ["25", "26", "27", "28"],
          correct: 2
        },
        {
          q: "Абай өлеңдерін ең алғаш кімнің атынан жариялаған?  ",
          a: ["Көкбай ", "Оқиға 2", "Оқиға 3", "Оқиға 4"],
          correct: 0
        },
        {
          q: "Абай қайда жерленген? ",
          a: ["Алматы", "Нұр-Сұлтан", "Жидебай", "Шымкент"],
          correct: 2
        },
        {
          q: "Еуропаға Александр Македонский деген атпен белгілі қолбасшының өмірі жайлы аңыздар негізінде жазылған поэмасын көрсетіңіз",
          a: [],
          ansText: "«Ескендір» "
        }
      ],
      // Категория 3: Қара сөздер (8 вопросов, с добавленным 8-ым)
      [
        {
          q: "Қара сөздер ең алғашқы қай қалада жарық көрді? ",
          a: ["Алматы", "Семей", "Астана", "Қарағанды"],
          correct: 1
        },
        {
          q: "Қара сөздер қай жылы жарық көрді? ",
          a: ["1910", "1915", "1918", "1920"],
          correct: 2
        },
        {
          q: "Абайдың нешінші қара сөзінен алынған? Екінші мінезі - намысқорлық екен. Ат аталып, аруақ шақырылған жерде ағайынға өкпе, араздыққа қарамайды екен, жанын салысады екен. «Өзіне ар тұтқан жаттан зар тұтады» деп, «Аз араздықты қуған көп пайдасын кетірер» деп, «Ағайынның азары болса да, безері болмайды ",
          a: [],
          ansText: "39 - қара сөзі"
        },
        {
          q: "Абай еңбек туралы қай қара сөзінде ой қозғаған? ",
          a: ["2", "4", "2, 4, 25, 42", "42"],
          correct: 2
        },
        {
          q: "Абайдың нешінші қара сөзінен алынған үзінді? \n Бұл жасқа келгенше жақсы өткіздік пе, жаман өткіздік пе, әйтеуір бірталай өмірімізді өткіздік: алыстық, жұлыстық, айтыстық, тартыстық – әурешілікті көре-көре келдік. Енді жер ортасы жасқа келдік: қажыдық, жалықтық; қылып жүрген ісіміздің баянсызын, байлаусызын көрдік, бәрі қоршылық екенін білдік. Ал, енді қалған өмірімізді қайтіп, не қылып өткіземіз? Соны таба алмай өзім де қайранмын ",
          a: ["Бірінші", "Екінші", "Үшінші", "Төртінші"],
          correct: 0
        },
        {
          q: "Абайдың 45-қара сөзінде не айтылған? ",
          a: [
            "45-қара сөзінде Абай өз іс-әрекетінің мәнін терең түсіндіріп, кемшіліктерді мойындап, оларды жеңуге шақырады.",
            "Басқа жауап 1",
            "Басқа жауап 2",
            "Басқа жауап 3"
          ],
          correct: 0
        },
        {
          q: "Абайдың бір қаза сөзін айтып беріңіздер.",
          a: [],
          ansText: "Бұл сұраққа нақты жауап жоқ"
        },
        {
          q: "Абайдың 13-қара сөзінде қандай басты ой айтылады?  ",
          a: [],
          ansText: "Жауап: Абайдың 13-қара сөзінде адам бойындағы қайрат, ақыл, жүрек сияқты қасиеттердің өзара байланысы және адамның өзін жетілдіруге бағытталған ойлары айтылған"
        }
      ]
    ];

    // Определяем номер категории по сохранённому названию
    const categoryNames = ["Абайдың өмірбаяны", "Абайдың өлеңдері", "Әр-түрлі сұрақтар", "Қара сөздер"];
    const catIndex = categoryNames.indexOf(selectedCategory);
    if (catIndex === -1) {
      alert("Неверная категория");
      window.location.href = "index.html";
    }

    const questionIndex = parseInt(selectedQuestionIndex, 10);
    const currentQuestion = questions[catIndex][questionIndex];

    // Отображаем название категории и текст вопроса
    document.getElementById("topicTitle").innerText = selectedCategory;
    document.getElementById("questionText").innerText = currentQuestion.q;

    // Функция для показа ответа по нажатию кнопки "Показать ответ"
    function showAnswer() {
      let answer = "";
      if (currentQuestion.ansText) {
        answer = currentQuestion.ansText;
      } else if (currentQuestion.a && currentQuestion.a.length > 0 && currentQuestion.correct !== null) {
        answer = currentQuestion.a[currentQuestion.correct];
      } else {
        answer = "Ответ отсутствует";
      }
      const answerDiv = document.getElementById("answerText");
      answerDiv.innerText = answer;
      answerDiv.style.display = "block";
      document.getElementById("showAnswerButton").style.display = "none";
    }

    // Функция "Next" – перед переходом на страницу с ячейками отмечаем текущий вопрос как пройденный
    function goToLevels() {
      // Загружаем объект прогресса
      let progress = JSON.parse(sessionStorage.getItem("progress")) || {};
      if (!progress[selectedCategory]) {
        // Если вдруг отсутствует, инициализируем массив из 8 элементов
        progress[selectedCategory] = { answered: Array(8).fill(false) };
      }
      // Отмечаем текущий вопрос как пройденный
      progress[selectedCategory].answered[questionIndex] = true;
      sessionStorage.setItem("progress", JSON.stringify(progress));
      // Переходим обратно к странице выбора ячеек
      window.location.href = "levels.html";
    }
  </script>
</body>
</html>
